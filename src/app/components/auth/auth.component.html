<div class="form">
  <form [formGroup]="newAuthForm" (ngSubmit)="onSubmit()">
    <div class="form-group">
      <label for="userName">Username</label>
      <input
        type="text"
        id="userName"
        class="form-control"
        formControlName="userName"
      />
      <span
        *ngIf="
          newAuthForm.get('userName').errors?.required &&
          newAuthForm.get('userName').touched
        "
        >Enter {{ isLoginMode ? "your" : "a" }} username</span
      >
      <span *ngIf="!isLoginMode && newAuthForm.get('userName').errors?.isTaken"
        >The username is taken</span
      >
    </div>
    <div class="form-group">
      <label for="email">Email</label>
      <input
        type="email"
        id="email"
        class="form-control"
        formControlName="email"
      />
      <span
        *ngIf="
          newAuthForm.get('email').errors?.required &&
          newAuthForm.get('email').touched
        "
        >Enter {{ isLoginMode ? "your" : "a" }} email</span
      >
      <span *ngIf="!isLoginMode && newAuthForm.get('email').errors?.isTaken"
        >The email is taken</span
      >
    </div>
    <div class="form-group">
      <div style="display: inline-block;">
        <label for="password">Password</label>
        <input
          [type]="show ? 'text' : 'password'"
          id="password"
          class="form-control"
          formControlName="password"
        />
      </div>
      <div class="show-password" *ngIf="!isLoginMode">
        <label for="checkbox">Show password</label>
        <input type="checkbox" (click)="onShowPassword()" />
      </div>
    </div>
    <span
      *ngIf="
        !isLoginMode &&
        newAuthForm.get('password').errors?.passwordIsInvalid &&
        newAuthForm.get('password').touched
      "
    >
      Password must be at least 6 characters long and contains at least a number
    </span>
    <div>
      <button class="signup" type="submit" [disabled]="!newAuthForm.valid">
        {{ isLoginMode ? "Login" : "Sign Up" }}
      </button>
    </div>
    <div>
      <button class="login" (click)="onSwitchMode()" type="button">
        {{
          isLoginMode
            ? "First time here? Sign Up"
            : "Already have an account? Login"
        }}
      </button>
    </div>
  </form>
</div>
